(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{18:function(e,n,t){e.exports=t(40)},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(17),u=t.n(o),c=(t(8),t(6)),i=t(2),l=t(4),m=t.n(l),f="/api/persons",d=function(){return m.a.get(f).then((function(e){return e.data}))},s=function(e){return m.a.post(f,e).then((function(e){return e.data}))},h=function(e){return m.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},v=function(e,n){return m.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},b=function(e){var n=e.message,t=e.type,a=void 0===t?"notification":t;return null===n?null:r.a.createElement("div",{className:a},n)},p=function(e){var n=e.query,t=e.handleQueryChange;return r.a.createElement("div",null,"Search: ",r.a.createElement("input",{value:n,onChange:t}))},E=function(e){var n=e.handleSubmit,t=e.newName,a=e.newNumber,o=e.handleNewNameChange,u=e.handleNewNumberChange;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"Name: ",r.a.createElement("input",{value:t,onChange:o})),r.a.createElement("div",null,"Number: ",r.a.createElement("input",{value:a,onChange:u})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},w=function(e){var n=e.people,t=e.handleRemove;return r.a.createElement("div",null,n.map((function(e){return r.a.createElement(g,{key:e.id,person:e,handleRemove:t(e.id)})})))},g=function(e){var n=e.person,t=e.handleRemove;return r.a.createElement("p",{key:n.name},n.name," ",n.number," ",r.a.createElement("button",{onClick:t},"Delete"))},y=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),l=Object(i.a)(u,2),m=l[0],f=l[1],g=Object(a.useState)(""),y=Object(i.a)(g,2),N=y[0],O=y[1],j=Object(a.useState)(""),C=Object(i.a)(j,2),S=C[0],k=C[1],R=Object(a.useState)(null),D=Object(i.a)(R,2),q=D[0],x=D[1],B=Object(a.useState)("notification"),J=Object(i.a)(B,2),P=J[0],Q=J[1];Object(a.useEffect)((function(){d().then((function(e){o(e)}))}),[]);var W=(""!==m?t.filter((function(e){return RegExp(m,"i").test(e.name)})):t).slice().sort((function(e,n){return e.name>n.name?1:-1})),$=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"notification";x(e),Q(n),setTimeout((function(){x(null)}),3e3)};return r.a.createElement("div",null,r.a.createElement(b,{message:q,type:P}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(p,{query:m,handleQueryChange:function(e){return f(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(E,{handleSubmit:function(e){var n={name:N,number:S};return e.preventDefault(),""===N?($("Cannot add a person without a name!","error"),!1):/^[\d-+. ]*$/.test(S)?t.some((function(e){return e.name===N}))?!!window.confirm("Overwrite the entry for ".concat(N,"?"))&&(v(t.filter((function(e){return e.name===N}))[0].id,n).then((function(e){$("".concat(e.name," has been updated!")),o([].concat(Object(c.a)(t.filter((function(n){return e.name!==n.name}))),[e])),O(""),k("")})).catch((function(e){return $("".concat(N," could not be updated; out of sync with server?"))})),!0):void s(n).then((function(e){$("".concat(e.name," has been created!")),o([].concat(Object(c.a)(t),[e])),O(""),k("")})):($("Phone number may only contain digits, +, -, or spaces!","error"),!1)},newName:N,handleNewNameChange:function(e){return O(e.target.value)},newNumber:S,handleNewNumberChange:function(e){return k(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(w,{people:W,handleRemove:function(e){return function(n){n.preventDefault(),window.confirm("Are you sure you want to delete this entry?")&&h(e).then((function(n){o(t.filter((function(n){return n.id!==e})))}))}}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,n,t){}},[[18,1,2]]]);
//# sourceMappingURL=main.d60ce0a1.chunk.js.map